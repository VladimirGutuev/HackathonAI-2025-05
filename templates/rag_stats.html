{% extends "base.html" %}

{% block title %}–°–∏—Å—Ç–µ–º–∞ RAG - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0"><i class="bi bi-database"></i> –°–∏—Å—Ç–µ–º–∞ RAG - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
                </div>
                <div class="card-body">
                    {% if rag_available %}
                        <div class="alert alert-success" role="alert">
                            <i class="bi bi-check-circle"></i> <strong>–°–∏—Å—Ç–µ–º–∞ RAG –∞–∫—Ç–∏–≤–Ω–∞</strong> - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–Ω–µ–≤–Ω–∏–∫–æ–≤
                        </div>
                        
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="card text-center border-primary">
                                    <div class="card-body">
                                        <i class="bi bi-calendar-event text-primary" style="font-size: 2rem;"></i>
                                        <h4 class="card-title text-primary">{{ stats.historical_events or 0 }}</h4>
                                        <p class="card-text">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center border-success">
                                    <div class="card-body">
                                        <i class="bi bi-wikipedia text-success" style="font-size: 2rem;"></i>
                                        <h4 class="card-title text-success">{{ stats.wikipedia_articles or 0 }}</h4>
                                        <p class="card-text">Wikipedia —Å—Ç–∞—Ç–µ–π</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center border-info">
                                    <div class="card-body">
                                        <i class="bi bi-clock-history text-info" style="font-size: 2rem;"></i>
                                        <h4 class="card-title text-info">{{ stats.cached_results or 0 }}</h4>
                                        <p class="card-text">–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center border-warning">
                                    <div class="card-body">
                                        <i class="bi bi-hdd-stack text-warning" style="font-size: 2rem;"></i>
                                        <h4 class="card-title text-warning">
                                            {% if stats.vector_cache_exists %}
                                                <i class="bi bi-check-lg"></i>
                                            {% else %}
                                                <i class="bi bi-x-lg"></i>
                                            {% endif %}
                                        </h4>
                                        <p class="card-text">–í–µ–∫—Ç–æ—Ä–Ω—ã–π –∫—ç—à</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header bg-light">
                                        <h5 class="mb-0"><i class="bi bi-info-circle"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ RAG</h5>
                                    </div>
                                    <div class="card-body">
                                        <ol>
                                            <li><strong>–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤</strong> - –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤–æ–µ–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –¥–∞—Ç—ã, –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è</li>
                                            <li><strong>–ü–æ–∏—Å–∫ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö</strong> - Wikipedia API –∏ Historical Events API</li>
                                            <li><strong>–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - –ø–æ–∏—Å–∫ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</li>
                                            <li><strong>–û–±–æ–≥–∞—â–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞</strong> - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header bg-light">
                                        <h5 class="mb-0"><i class="bi bi-database-up"></i> –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <h6><i class="bi bi-wikipedia"></i> Wikipedia API</h6>
                                            <p class="text-muted small">–û—Ç–∫—Ä—ã—Ç—ã–π API –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –ø–æ –≤–æ–µ–Ω–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–µ.</p>
                                        </div>
                                        <div class="mb-3">
                                            <h6><i class="bi bi-calendar-event"></i> Historical Events API</h6>
                                            <p class="text-muted small">–û—Ç–∫—Ä—ã—Ç–∞—è –±–∞–∑–∞ —Å–æ–±—ã—Ç–∏–π (190K+ –∑–∞–ø–∏—Å–µ–π) —Å –ø–æ–∏—Å–∫–æ–º –ø–æ –¥–∞—Ç–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.</p>
                                        </div>
                                        <div>
                                            <h6><i class="bi bi-hdd"></i> –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</h6>
                                            <p class="text-muted small">SQLite –±–∞–∑–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–Ω–µ–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ñ–∞–∫—Ç–∞–º.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0"><i class="bi bi-lightbulb"></i> –¢–∏–ø—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –æ–±–æ–≥–∞—â–µ–Ω–∏—è</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>üî¨ –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º</h6>
                                        <p class="text-muted small">–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π —Å —É—á–µ—Ç–æ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</p>
                                        
                                        <h6>üìö –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ + –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</h6>
                                        <p class="text-muted small">–û–±—ã—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–æ–ø–æ–ª–Ω–µ–Ω —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–∫—Ç–∞–º–∏</p>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>üìñ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h6>
                                        <p class="text-muted small">–ù–∞–π–¥–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</p>
                                        
                                        <h6>üìù –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h6>
                                        <p class="text-muted small">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    {% else %}
                        <div class="alert alert-warning" role="alert">
                            <i class="bi bi-exclamation-triangle"></i> <strong>–°–∏—Å—Ç–µ–º–∞ RAG –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</strong>
                            <p class="mb-0 mt-2">–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –æ–±–æ–≥–∞—â–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:</p>
                            <code class="d-block mt-2">pip install scikit-learn numpy scipy</code>
                        </div>
                        
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0"><i class="bi bi-gear"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã RAG</h5>
                            </div>
                            <div class="card-body">
                                <p>–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</p>
                                <ol>
                                    <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: <code>pip install scikit-learn numpy scipy</code></li>
                                    <li>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</li>
                                    <li>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏</li>
                                </ol>
                                
                                <div class="alert alert-info mt-3">
                                    <i class="bi bi-info-circle"></i> –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API (Wikipedia, Historical Events) –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã.
                                </div>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.card {
    transition: transform 0.2s;
}

.card:hover {
    transform: translateY(-2px);
}

.border-primary {
    border-color: #0d6efd !important;
}

.border-success {
    border-color: #198754 !important;
}

.border-info {
    border-color: #0dcaf0 !important;
}

.border-warning {
    border-color: #ffc107 !important;
}
</style>
{% endblock %} 